<template>
  <div class="weather-item">
    <!-- 雨 -->
    <svg v-if="weather === '雨'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1110">
      <path
        d="M821.67621625 367.95254672a199.33064026 199.33064026 0 0 0 38.33165829-65.62115093 179.47279564 179.47279564 0 0 0-19.37644221-150.43821959 190.00347075 190.00347075 0 0 0-129.37686848-85.35864473 238.80562877 238.80562877 0 0 0-264.47038966 122.36644661 166.92624819 166.92624819 0 0 0-161.08924466-42.9350672A123.90091743 123.90091743 0 0 0 205.02995638 209.93224195a117.7630377 117.7630377 0 0 0-2.43709934 101.15465826A144.08972637 144.08972637 0 0 0 238.30689063 360.40054791C144.85466838 374.60191613 75.6530879 436.82316375 75.6530879 511.62104609c0.30087618 84.69671697 46.42523407 134.88290681 203.81369924 153.6275094a2173.2906881 2173.2906881 0 0 0 465.24523632 0C911.72853431 641.65984235 948.19475837 596.2876758 948.19475837 511.32016992c0.30087618-64.41764532-52.05162411-118.24444013-126.51854212-142.46499377v-0.90262943z m0 0"
        fill="#FFFFFF"
        p-id="1111"
      ></path>
      <path
        d="M242.3687226 725.66454428c-29.30536497 17.5410961-93.48230952 60.47616419-110.6322668 104.34394897a78.8597143 78.8597143 0 0 0-1.44420636 62.46194839A82.19944309 82.19944309 0 0 0 174.94231282 937.45146934a83.9445265 83.9445265 0 0 0 103.26079331-54.42854806c16.81899292-44.7704142-4.66358519-117.34181071-15.58539917-148.81348608a13.41908874 13.41908874 0 0 0-7.91305041-9.2068187 14.11110464 14.11110464 0 0 0-12.33593395 0.72210319z m280.44692768 23.58871315c-29.2752777 17.5410961-93.48230952 60.47616419-110.6322659 104.34394807a80.15348346 80.15348346 0 0 0 42.99524263 106.14920781 84.0347892 84.0347892 0 0 0 103.77228386-52.62328918c16.81899292-44.7704142-4.66358519-117.34181071-15.58540005-148.81348612a13.44917687 13.44917687 0 0 0-8.1236639-9.17673141 14.0810174 14.0810174 0 0 0-12.42619664 1.02297935v-0.90262852z m280.4469277-23.58871315c-29.30536497 17.5410961-93.48230952 60.47616419-110.63226589 104.34394897a78.8597143 78.8597143 0 0 0-1.44420726 62.46194839 82.22953035 82.22953035 0 0 0 44.77041419 44.89076413 83.9445265 83.9445265 0 0 0 103.14044338-54.42854715c16.81899292-44.7704142-4.66358519-117.34181071-15.58540004-148.8134861a13.41908874 13.41908874 0 0 0-7.91305042-9.20681958 14.0810174 14.0810174 0 0 0-12.33593396 0.72210407z"
        fill="#009CFF"
        p-id="1112"
      ></path>
    </svg>
    <!-- 阴 -->
    <svg v-else-if="weather === '阴'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1414 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1141">
      <path
        d="M1208.821177 498.007998a322.986098 322.986098 0 0 0 62.110836-106.329461 290.80937 290.80937 0 0 0-31.396686-243.763092 307.872786 307.872786 0 0 0-209.63626-138.311179 386.949533 386.949533 0 0 0-428.535517 198.276899 270.479528 270.479528 0 0 0-261.02152-69.569986A200.763283 200.763283 0 0 0 209.63626 241.959246a190.817749 190.817749 0 0 0-3.948962 163.906303A233.47629 233.47629 0 0 0 263.556656 485.771091C112.131023 508.782327 0 609.602742 0 730.801752c0.487526 137.238621 75.22529 218.557989 330.250238 248.93087a3521.499143 3521.499143 0 0 0 753.861741 0C1354.737764 941.510569 1413.825938 867.991621 1413.825938 730.314226c0.487526-104.379356-84.34203-191.597791-205.004761-230.843649v-1.462579z m0 0"
        fill="#FFFFFF"
        p-id="1142"
      ></path>
    </svg>
    <!-- 雷阵雨 -->
    <svg v-else-if="weather === '雷阵雨'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1201">
      <path
        d="M918.25346126 484.19420754c0 81.0400426-33.40306236 122.83900984-186.96687073 144.83688186-19.3497016 2.13659257-38.7595892 3.2500277-58.13938423 4.78476299h-91.36188951l60.84774065-233.00892967a12.03713932 12.03713932 0 0 0-5.32643428-14.08345333 12.97001821 12.97001821 0 0 0-15.37744554 1.35417822l-299.09282604 242.51827053c-6.43986938-0.63194983-12.75936767-0.87269291-19.10895939-1.56482874-144.44567513-17.24320246-186.96687074-64.75981072-186.96687072-144.83688186 0-69.87559535 64.24823287-128.25572266 149.38090263-141.64704017a115.52644753 115.52644753 0 0 1 43.36379509-201.62208788 151.03600903 151.03600903 0 0 1 147.45495972 41.46794559A217.93241232 217.93241232 0 0 1 700.14049184 66.62583535a174.11722451 174.11722451 0 0 1 133.10067076 113.0889259 172.31165356 172.31165356 0 0 1-32.89148364 170.8671968l1.2939922-0.33102162C870.10490317 371.88769514 918.25346126 423.88813817 918.25346126 484.19420754z"
        fill="#FFFFFF"
        p-id="1202"
      ></path>
      <path
        d="M221.96512122 695.56637851C193.01580108 713.20078859 129.82081822 756.14328351 112.84845138 800.01865731a79.89651404 79.89651404 0 0 0-1.41436418 62.4727545 81.67199242 81.67199242 0 0 0 44.14620945 44.89853126 82.60487046 82.60487046 0 0 0 101.74392241-54.43796381c16.61125263-44.77815929-4.6042059-117.36211104-15.37744554-148.83923136a13.39131751 13.39131751 0 0 0-7.82414103-9.20841179 13.75243169 13.75243169 0 0 0-12.0371393 0.72222839z m553.31721423 0c-28.88913502 17.54413067-92.23458242 60.48662645-109.11666982 104.36200026a79.89651404 79.89651404 0 0 0-1.4143642 62.47275448 81.70208498 81.70208498 0 0 0 44.14620946 44.89853127 82.60487046 82.60487046 0 0 0 101.74392241-54.43796381c16.61125263-44.77815929-4.6042059-117.36211104-15.37744553-148.83923135a13.36122495 13.36122495 0 0 0-7.82414103-9.2084118 13.72233913 13.72233913 0 0 0-12.0371393 0.72222839z"
        fill="#009CFF"
        p-id="1203"
      ></path>
      <path d="M294.97037313 752.74279215l254.40494531-210.64994346-25.33817913 131.65621488s-11.04407528 29.37062032 25.42845767 26.33124228l101.77401496-26.33124228L345.82728762 963.39273474l76.3154656-184.31870032z" fill="#FFD953" p-id="1204"></path>
    </svg>
    <!-- 晴 -->
    <svg v-else-if="weather === '晴'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1233">
      <path
        d="M877.62811513 437.67066331a129.7001794 129.7001794 0 0 1-54.76898544-131.80667856c13.84271024-71.62098028 25.87985041-95.09340249 8.12506923-113.14911275s-41.2272034-5.71764102-113.14911188 8.12506923a129.7001794 129.7001794 0 0 1-131.80667854-54.76898456C545.40306236 85.88525842 537.27799315 60.60726526 512 60.60726526s-33.40306236 25.27799315-74.32933669 85.76461961a129.7001794 129.7001794 0 0 1-131.80667856 54.46805636C234.2430036 186.99723098 211.07151047 174.96009169 192.714872 192.714872s-5.71764102 41.2272034 8.12506923 113.14911275a129.7001794 129.7001794 0 0 1-54.76898457 131.80667856C85.88525842 478.59693764 60.60726526 486.72200685 60.60726526 512s25.27799315 33.40306236 85.76461961 74.32933669a129.7001794 129.7001794 0 0 1 54.46805636 131.80667856c-13.84271024 71.62098028-25.87985041 94.7924743-8.12506923 113.14911275s41.2272034 5.71764102 113.14911275-8.12506923a129.7001794 129.7001794 0 0 1 131.80667856 54.76898456c40.92627433 60.18569827 49.05134356 85.46369141 74.32933669 85.46369141s33.40306236-25.27799315 74.32933669-85.4636914a129.7001794 129.7001794 0 0 1 131.80667856-54.76898457c71.62098028 13.84271024 95.09340249 25.87985041 113.14911275 8.12506923s5.71764102-41.2272034-8.12506923-113.14911275a129.7001794 129.7001794 0 0 1 54.46805636-131.80667856C938.11474158 545.40306236 963.39273474 537.27799315 963.39273474 512s-25.27799315-33.40306236-85.76461961-74.32933669zM512 737.69636736a225.69636736 225.69636736 0 1 1 225.69636736-225.69636736 225.69636736 225.69636736 0 0 1-225.69636736 225.69636736zM512 361.53575479a150.46424521 150.46424521 0 1 0 150.46424521 150.46424521 150.46424521 150.46424521 0 0 0-150.46424521-150.46424521z m0 0"
        fill="#FFD953"
        p-id="1234"
      ></path>
    </svg>
    <!-- 多云 -->
    <svg v-else-if="weather === '多云'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1263">
      <path
        d="M240.23064271 642.60446189a180.04467498 180.04467498 0 0 1 11.16439436-124.88474113 199.27391643 199.27391643 0 0 1 257.26256548-90.27812552 286.30202926 286.30202926 0 0 1 175.13956381-85.16236471 100.63001739 100.63001739 0 0 1-30.09270852-90.27812553l13.00004992-66.50488621a23.80333275 23.80333275 0 0 0-28.07649673-27.98621908l-66.74562753 12.93986482a101.29205711 101.29205711 0 0 1-102.97724903-42.43071871L433.15499739 71.08374063a23.89361041 23.89361041 0 0 0-39.54181931 0l-38.36820346 55.97243815A101.29205711 101.29205711 0 0 1 252.29781902 169.81791734L185.25126417 156.90814596a23.80333275 23.80333275 0 0 0-28.07649674 27.9862182l12.96995738 66.5048862a100.6902025 100.6902025 0 0 1-42.58118325 102.61613661L71.13971333 391.63127218a23.74314676 23.74314676 0 0 0 0 39.42144817l56.45392081 38.81959447c117.75276853 79.44475016-51.63908818 218.17213713 86.66700126 191.69055288a248.11438199 248.11438199 0 0 1 25.97000731-18.95840581z"
        fill="#FFD953"
        p-id="1264"
      ></path>
      <path
        d="M852.55707586 689.54908677a163.28303626 163.28303626 0 0 0-94.19017708-267.82510609 204.63041857 204.63041857 0 0 0-228.70458521 109.23653222 141.61628639 141.61628639 0 0 0-138.60701588-39.12052089 109.11616113 109.11616113 0 0 0-40.62515658 190.18591806c-80.01651221 12.6389375-140.41257801 67.70859458-140.41257802 133.64171875 0 75.53269859 39.87283918 120.37083403 175.74141845 136.62089666a1827.86121031 1827.86121031 0 0 0 401.88812234 0c144.44500066-20.76396881 175.74141756-60.18541702 175.74141757-136.62089666 0-56.87521919-45.28952642-105.95642696-109.59764465-126.38937591z m0 0"
        fill="#FFFFFF"
        p-id="1265"
      ></path>
    </svg>
    <!-- 大雪 -->
    <svg v-else-if="weather === '大雪'" class="icon" style="width: 32px; height: 32px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1294">
      <path
        d="M905.00186039 457.02681313h-107.52819763l86.50619263-86.57067745a57.32687732 57.32687732 0 0 0 8.22179686-71.61023325 55.13439844 55.13439844 0 0 0-84.08801825-7.02883021l-137.70702607 135.93369795a52.5872536 52.5872536 0 0 1-74.35083251-74.35083163l135.41782042-135.64351679a57.32687732 57.32687732 0 0 0 8.22179686-71.32005208 55.13439844 55.13439844 0 0 0-84.08801825-7.02883023l-88.66643042 87.05431388V118.99813961A57.29463535 57.29463535 0 0 0 521.12458145 61.41332398a55.1666404 55.1666404 0 0 0-64.25897989 54.5540361v110.62346196L370.32716609 140.02014461a57.26239251 57.26239251 0 0 0-71.61023325-8.22179686 55.19888325 55.19888325 0 0 0-6.9965874 84.12026024l137.70702606 137.77151173a52.5872536 52.5872536 0 1 1-74.31858878 74.47980123L218.01436008 292.42967652a57.26239251 57.26239251 0 0 0-71.61023325-8.221796 55.1666404 55.1666404 0 0 0-6.99658739 84.12026023l88.66643041 88.69867238H118.99813961a57.29463535 57.29463535 0 0 0-57.58481563 46.00981699 55.1666404 55.1666404 0 0 0 54.52179325 64.32346468h110.59122001l-86.21601234 86.24825431a57.32687732 57.32687732 0 0 0-5.19101645 77.12367283 55.13439844 55.13439844 0 0 0 81.02499589 3.06302238L354.01254284 595.99129062a52.5872536 52.5872536 0 1 1 74.15737811 74.38307447l-135.41782043 135.64351677a57.32687732 57.32687732 0 0 0-5.19101644 77.12367285 55.13439844 55.13439844 0 0 0 81.02499589 3.06302239l88.66642952-88.69867238V905.35652635a57.29463535 57.29463535 0 0 0 46.00981698 57.29463448A55.1666404 55.1666404 0 0 0 567.13439844 908.58075943v-110.81691638l88.66642955 88.69867238a55.13439844 55.13439844 0 0 0 81.02499588-3.0630215 57.32687732 57.32687732 0 0 0-5.19101644-77.12367285l-135.41782043-135.64351678a52.5872536 52.5872536 0 1 1 74.35083249-74.38307447l137.70702606 137.77151086a55.10215561 55.10215561 0 0 0 81.02499589-3.06302238 57.32687732 57.32687732 0 0 0-5.19101646-77.12367285l-86.21601232-86.24825429h110.30103882a55.1666404 55.1666404 0 0 0 54.52179415-64.3234647 57.29463535 57.29463535 0 0 0-57.58481564-46.33224012z m0 0"
        fill="#FFFFFF"
        p-id="1295"
      ></path>
    </svg>
    <!-- 其他 -->
    <i v-else class="app-icon app-icon-weather"></i>
    <div class="header-item-detail">
      <span class="header-item-type">{{ weather || '未知' }}</span>
      <span class="header-item-temperature">{{ temperature }}&deg;C</span>
    </div>
  </div>
</template>
<script>
export default {
  name: 'weather',
  data() {
    return {
      weather: '',
      temperature: '',
      weatherTimer: null,
    };
  },
  mounted() {
    this.getWeather();
    // 半小时更新天气信息
    this.weatherTimer = setInterval(() => {
      this.getWeather();
    }, 1800000);
  },
  beforeDestroy() {
    clearInterval(this.weatherTimer);
    this.weatherTimer = null;
  },
  methods: {
    getWeather() {
      AMap.plugin('AMap.Weather', () => {
        let weather = new AMap.Weather();
        weather.getLive('410305', (err, data) => {
          if (data) {
            console.log(data);
            this.weather = data.weather;
            this.temperature = data.temperature;
          } else {
            console.log(err);
          }
        });
      });
    },
  },
};
</script>

<style lang="scss" scoped>
.weather-item {
  display: flex;
  align-items: center;
  .header-item-detail {
    margin-left: 15px;
  }
}
</style>
